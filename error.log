2025-07-21 16:57:09,907 - api.utils.logger - ERROR - Exception occured; Object of type ValueError is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 347, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'value_error', 'loc': ('body',), 'msg': 'Value error, password must include at least one uppercase character', 'input': {'email': 'user@example.com', 'password': 'string1@st', 'confirm_password': 'string1@st', 'first_name': 'First', 'last_name': 'Last', 'phone_number': 'stringstrin', 'ican_number': 'string12345'}, 'ctx': {'error': ValueError('password must include at least one uppercase character')}}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/main.py", line 84, in validation_exception
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ValueError is not JSON serializable
2025-07-21 16:58:25,708 - api.utils.logger - ERROR - Exception occured; Object of type ValueError is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 347, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'value_error', 'loc': ('body',), 'msg': 'Value error, Passwords do not match', 'input': {'email': 'user@example.com', 'password': 'String1@st', 'confirm_password': 'string1@st', 'first_name': 'First', 'last_name': 'Last', 'phone_number': 'stringstrin', 'ican_number': 'string12345'}, 'ctx': {'error': ValueError('Passwords do not match')}}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/main.py", line 84, in validation_exception
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ValueError is not JSON serializable
2025-07-21 16:59:05,578 - api.utils.logger - ERROR - Exception occured; Object of type ValueError is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 347, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'value_error', 'loc': ('body',), 'msg': 'Value error, The domain name example.com does not accept email.', 'input': {'email': 'user@example.com', 'password': 'String1@st', 'confirm_password': 'String1@st', 'first_name': 'First', 'last_name': 'Last', 'phone_number': 'stringstrin', 'ican_number': 'string12345'}, 'ctx': {'error': ValueError(EmailUndeliverableError('The domain name example.com does not accept email.'))}}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/main.py", line 84, in validation_exception
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ValueError is not JSON serializable
2025-07-21 17:14:29,739 - api.utils.logger - ERROR - Exception occured; Object of type ValueError is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 347, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'value_error', 'loc': ('body',), 'msg': 'Value error, The domain name example.com does not accept email.', 'input': {'email': 'user@example.com', 'password': 'String1@st', 'confirm_password': 'String1@st', 'first_name': 'First', 'last_name': 'Last', 'phone_number': 'stringstrin', 'ican_number': 'string12345'}, 'ctx': {'error': ValueError('The domain name example.com does not accept email.')}}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/main.py", line 84, in validation_exception
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ValueError is not JSON serializable
2025-07-21 17:22:42,191 - api.utils.logger - ERROR - Exception occured; Object of type ValueError is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 347, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'value_error', 'loc': ('body',), 'msg': 'Value error, The domain name example.com does not accept email.', 'input': {'email': 'user@example.com', 'password': 'String1@st', 'confirm_password': 'String1@st', 'first_name': 'First', 'last_name': 'Last', 'phone_number': 'stringstrin', 'ican_number': 'string12345'}, 'ctx': {'error': ValueError('The domain name example.com does not accept email.')}}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/main.py", line 84, in validation_exception
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ValueError is not JSON serializable
2025-07-21 17:26:38,992 - api.utils.logger - ERROR - Exception occured; (psycopg2.errors.UndefinedFunction) operator does not exist: character varying = uuid
LINE 3: WHERE users.id = 'b0c54597-6c1a-4266-812d-a4bf756d3a25'::uui...
                       ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT users.email, users.password, users.first_name, users.last_name, users.avatar_url, users.phone_number, users.is_active, users.is_admin, users.is_verified, users.ican_number, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s]
[parameters: {'pk_1': UUID('b0c54597-6c1a-4266-812d-a4bf756d3a25')}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: operator does not exist: character varying = uuid
LINE 3: WHERE users.id = 'b0c54597-6c1a-4266-812d-a4bf756d3a25'::uui...
                       ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/slowapi/extension.py", line 766, in sync_wrapper
    response = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/routes/auth.py", line 50, in register
    user = user_service.create(db=db, schema=user_schema)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/services/user.py", line 131, in create
    db.refresh(user)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 3168, in refresh
    loading.load_on_ident(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 509, in load_on_ident
    return load_on_pk_identity(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) operator does not exist: character varying = uuid
LINE 3: WHERE users.id = 'b0c54597-6c1a-4266-812d-a4bf756d3a25'::uui...
                       ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT users.email, users.password, users.first_name, users.last_name, users.avatar_url, users.phone_number, users.is_active, users.is_admin, users.is_verified, users.ican_number, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s]
[parameters: {'pk_1': UUID('b0c54597-6c1a-4266-812d-a4bf756d3a25')}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-21 17:35:09,662 - api.utils.logger - ERROR - Exception occured; Object of type UUID is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/slowapi/extension.py", line 766, in sync_wrapper
    response = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/routes/auth.py", line 52, in register
    access_token = user_service.create_access_token(user_id=user.id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/services/user.py", line 190, in create_access_token
    encoded_jwt = jwt.encode(data, settings.SECRET_KEY, settings.ALGORITHM)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/jose/jwt.py", line 63, in encode
    return jws.sign(claims, key, headers=headers, algorithm=algorithm)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/jose/jws.py", line 46, in sign
    encoded_payload = _encode_payload(payload)
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/jose/jws.py", line 150, in _encode_payload
    payload = json.dumps(
              ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UUID is not JSON serializable
2025-07-27 08:59:34,521 - api.utils.logger - ERROR - Exception occured; 'UserService' object has no attribute 'is_admin'
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/services/user.py", line 326, in get_current_admin_user
    if not current_user.is_admin:
           ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserService' object has no attribute 'is_admin'
2025-07-27 09:00:38,083 - api.utils.logger - ERROR - Exception occured; 'UserService' object has no attribute 'is_admin'
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 640, in solve_dependencies
    solved = await run_in_threadpool(call, **solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/services/user.py", line 326, in get_current_admin_user
    if not current_user.is_admin:
           ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserService' object has no attribute 'is_admin'
2025-07-27 09:11:46,587 - api.utils.logger - ERROR - Exception occured; For many-to-one relationship Exam.paper, delete-orphan cascade is normally configured only on the "one" side of a one-to-many relationship, and not on the "many" side of a many-to-one or many-to-many relationship.  To force this relationship to allow a particular "Paper" object to be referenced by only a single "Exam" object at a time via the Exam.paper relationship, which would allow delete-orphan cascade to take place in this direction, set the single_parent=True flag. (Background on this error at: https://sqlalche.me/e/20/bbf0)
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/slowapi/extension.py", line 766, in sync_wrapper
    response = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/routes/auth.py", line 50, in register
    user = user_service.create(db=db, schema=user_schema)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/services/user.py", line 117, in create
    if db.query(User).filter(User.email == schema.email).first():
       ^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1659, in do_init
    self._check_cascade_settings(self._cascade)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2000, in _check_cascade_settings
    raise sa_exc.ArgumentError(
sqlalchemy.exc.ArgumentError: For many-to-one relationship Exam.paper, delete-orphan cascade is normally configured only on the "one" side of a one-to-many relationship, and not on the "many" side of a many-to-one or many-to-many relationship.  To force this relationship to allow a particular "Paper" object to be referenced by only a single "Exam" object at a time via the Exam.paper relationship, which would allow delete-orphan cascade to take place in this direction, set the single_parent=True flag. (Background on this error at: https://sqlalche.me/e/20/bbf0)
2025-07-27 22:11:14,755 - api.utils.logger - ERROR - Exception occured; For many-to-one relationship Exam.paper, delete-orphan cascade is normally configured only on the "one" side of a one-to-many relationship, and not on the "many" side of a many-to-one or many-to-many relationship.  To force this relationship to allow a particular "Paper" object to be referenced by only a single "Exam" object at a time via the Exam.paper relationship, which would allow delete-orphan cascade to take place in this direction, set the single_parent=True flag. (Background on this error at: https://sqlalche.me/e/20/bbf0)
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/slowapi/extension.py", line 766, in sync_wrapper
    response = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/routes/auth.py", line 50, in register
    user = user_service.create(db=db, schema=user_schema)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/services/user.py", line 117, in create
    if db.query(User).filter(User.email == schema.email).first():
       ^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2955, in query
    return self._query_cls(entities, self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1659, in do_init
    self._check_cascade_settings(self._cascade)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2000, in _check_cascade_settings
    raise sa_exc.ArgumentError(
sqlalchemy.exc.ArgumentError: For many-to-one relationship Exam.paper, delete-orphan cascade is normally configured only on the "one" side of a one-to-many relationship, and not on the "many" side of a many-to-one or many-to-many relationship.  To force this relationship to allow a particular "Paper" object to be referenced by only a single "Exam" object at a time via the Exam.paper relationship, which would allow delete-orphan cascade to take place in this direction, set the single_parent=True flag. (Background on this error at: https://sqlalche.me/e/20/bbf0)
2025-07-27 22:37:18,339 - api.utils.logger - ERROR - Exception occured; (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "users_ican_number_key"
DETAIL:  Key (ican_number)=(string) already exists.

[SQL: INSERT INTO users (email, password, first_name, last_name, avatar_url, phone_number, ican_number, id) VALUES (%(email)s, %(password)s, %(first_name)s, %(last_name)s, %(avatar_url)s, %(phone_number)s, %(ican_number)s, %(id)s::UUID) RETURNING users.is_active, users.is_admin, users.is_verified, users.created_at, users.updated_at]
[parameters: {'email': 'user9@outlook.com', 'password': '$2b$12$9FS7YOUN83ulXZJyAjcmZeV2YdhgQiOtqYlbud6TBqFyNUKHMpS12', 'first_name': 'String', 'last_name': 'string', 'avatar_url': None, 'phone_number': 'stringstrin', 'ican_number': 'string', 'id': UUID('b03fa2b3-9dc9-4c6d-abdd-735d604fc484')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "users_ican_number_key"
DETAIL:  Key (ican_number)=(string) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/slowapi/extension.py", line 766, in sync_wrapper
    response = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/routes/auth.py", line 50, in register
    user = user_service.create(db=db, schema=user_schema)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/services/user.py", line 127, in create
    db.commit()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "users_ican_number_key"
DETAIL:  Key (ican_number)=(string) already exists.

[SQL: INSERT INTO users (email, password, first_name, last_name, avatar_url, phone_number, ican_number, id) VALUES (%(email)s, %(password)s, %(first_name)s, %(last_name)s, %(avatar_url)s, %(phone_number)s, %(ican_number)s, %(id)s::UUID) RETURNING users.is_active, users.is_admin, users.is_verified, users.created_at, users.updated_at]
[parameters: {'email': 'user9@outlook.com', 'password': '$2b$12$9FS7YOUN83ulXZJyAjcmZeV2YdhgQiOtqYlbud6TBqFyNUKHMpS12', 'first_name': 'String', 'last_name': 'string', 'avatar_url': None, 'phone_number': 'stringstrin', 'ican_number': 'string', 'id': UUID('b03fa2b3-9dc9-4c6d-abdd-735d604fc484')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-27 22:39:49,184 - api.utils.logger - ERROR - Exception occured; (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "users_ican_number_key"
DETAIL:  Key (ican_number)=(string) already exists.

[SQL: INSERT INTO users (email, password, first_name, last_name, avatar_url, phone_number, ican_number, id) VALUES (%(email)s, %(password)s, %(first_name)s, %(last_name)s, %(avatar_url)s, %(phone_number)s, %(ican_number)s, %(id)s::UUID) RETURNING users.is_active, users.is_admin, users.is_verified, users.created_at, users.updated_at]
[parameters: {'email': 'user9@outlook.com', 'password': '$2b$12$FV2PlcvND6MeLVCYcGHZruSRr6UwjT.BIBDwo2q8FLKZsXl2Zwjbe', 'first_name': 'String', 'last_name': 'string', 'avatar_url': None, 'phone_number': 'stringstrin', 'ican_number': 'string', 'id': UUID('61ef5c80-0be7-4dd2-807d-4cc51fa33b2f')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "users_ican_number_key"
DETAIL:  Key (ican_number)=(string) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/slowapi/extension.py", line 766, in sync_wrapper
    response = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/routes/auth.py", line 50, in register
    user = user_service.create(db=db, schema=user_schema)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/services/user.py", line 127, in create
    db.commit()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "users_ican_number_key"
DETAIL:  Key (ican_number)=(string) already exists.

[SQL: INSERT INTO users (email, password, first_name, last_name, avatar_url, phone_number, ican_number, id) VALUES (%(email)s, %(password)s, %(first_name)s, %(last_name)s, %(avatar_url)s, %(phone_number)s, %(ican_number)s, %(id)s::UUID) RETURNING users.is_active, users.is_admin, users.is_verified, users.created_at, users.updated_at]
[parameters: {'email': 'user9@outlook.com', 'password': '$2b$12$FV2PlcvND6MeLVCYcGHZruSRr6UwjT.BIBDwo2q8FLKZsXl2Zwjbe', 'first_name': 'String', 'last_name': 'string', 'avatar_url': None, 'phone_number': 'stringstrin', 'ican_number': 'string', 'id': UUID('61ef5c80-0be7-4dd2-807d-4cc51fa33b2f')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-27 23:06:32,629 - api.utils.logger - ERROR - Exception occured; Object of type bytes is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 347, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'model_attributes_type', 'loc': ('body',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': b'grant_type=password&username=user9%40outlook.com&password=Stringst%40123'}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/main.py", line 96, in validation_exception
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type bytes is not JSON serializable
2025-07-31 14:52:10,693 - api.utils.logger - ERROR - Exception occured; (psycopg2.errors.UndefinedTable) relation "papers" does not exist
LINE 2: FROM papers 
             ^

[SQL: SELECT papers.title AS papers_title, papers.level AS papers_level, papers.id AS papers_id, papers.created_at AS papers_created_at, papers.updated_at AS papers_updated_at 
FROM papers 
WHERE papers.title = %(title_1)s 
 LIMIT %(param_1)s]
[parameters: {'title_1': 'Financial Reporting', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "papers" does not exist
LINE 2: FROM papers 
             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/routes/admin.py", line 29, in create_paper
    existing_paper = db.query(Paper).filter(Paper.title == paper_data.title).first()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "papers" does not exist
LINE 2: FROM papers 
             ^

[SQL: SELECT papers.title AS papers_title, papers.level AS papers_level, papers.id AS papers_id, papers.created_at AS papers_created_at, papers.updated_at AS papers_updated_at 
FROM papers 
WHERE papers.title = %(title_1)s 
 LIMIT %(param_1)s]
[parameters: {'title_1': 'Financial Reporting', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-31 14:58:17,649 - api.utils.logger - ERROR - Exception occured; (psycopg2.errors.UndefinedTable) relation "papers" does not exist
LINE 2: FROM papers 
             ^

[SQL: SELECT papers.title AS papers_title, papers.level AS papers_level, papers.id AS papers_id, papers.created_at AS papers_created_at, papers.updated_at AS papers_updated_at 
FROM papers 
WHERE papers.title = %(title_1)s 
 LIMIT %(param_1)s]
[parameters: {'title_1': 'Financial Reporting', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedTable: relation "papers" does not exist
LINE 2: FROM papers 
             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/routes/admin.py", line 29, in create_paper
    existing_paper = db.query(Paper).filter(Paper.title == paper_data.title).first()
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedTable) relation "papers" does not exist
LINE 2: FROM papers 
             ^

[SQL: SELECT papers.title AS papers_title, papers.level AS papers_level, papers.id AS papers_id, papers.created_at AS papers_created_at, papers.updated_at AS papers_updated_at 
FROM papers 
WHERE papers.title = %(title_1)s 
 LIMIT %(param_1)s]
[parameters: {'title_1': 'Financial Reporting', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-31 15:04:00,845 - api.utils.logger - ERROR - Exception occured; 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': UUID('4bf6f603-14d2-4e3c-9ef9-3aee939b810b')}
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'id'), 'msg': 'Input should be a valid string', 'input': UUID('4bf6f603-14d2-4e3c-9ef9-3aee939b810b')}

2025-07-31 15:16:52,982 - api.utils.logger - ERROR - Exception occured; 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'exam_id'), 'msg': 'Input should be a valid string', 'input': UUID('192bb8f7-08f6-4897-bd24-258edfc8676c')}
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'exam_id'), 'msg': 'Input should be a valid string', 'input': UUID('192bb8f7-08f6-4897-bd24-258edfc8676c')}

2025-07-31 15:21:40,576 - api.utils.logger - ERROR - Exception occured; 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'exam_id'), 'msg': 'Input should be a valid string', 'input': UUID('192bb8f7-08f6-4897-bd24-258edfc8676c')}
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 328, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 177, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'string_type', 'loc': ('response', 'exam_id'), 'msg': 'Input should be a valid string', 'input': UUID('192bb8f7-08f6-4897-bd24-258edfc8676c')}


2025-07-21 16:57:09,907 - api.utils.logger - ERROR - Exception occured; Object of type ValueError is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 347, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'value_error', 'loc': ('body',), 'msg': 'Value error, password must include at least one uppercase character', 'input': {'email': 'user@example.com', 'password': 'string1@st', 'confirm_password': 'string1@st', 'first_name': 'First', 'last_name': 'Last', 'phone_number': 'stringstrin', 'ican_number': 'string12345'}, 'ctx': {'error': ValueError('password must include at least one uppercase character')}}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/main.py", line 84, in validation_exception
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ValueError is not JSON serializable
2025-07-21 16:58:25,708 - api.utils.logger - ERROR - Exception occured; Object of type ValueError is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 347, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'value_error', 'loc': ('body',), 'msg': 'Value error, Passwords do not match', 'input': {'email': 'user@example.com', 'password': 'String1@st', 'confirm_password': 'string1@st', 'first_name': 'First', 'last_name': 'Last', 'phone_number': 'stringstrin', 'ican_number': 'string12345'}, 'ctx': {'error': ValueError('Passwords do not match')}}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/main.py", line 84, in validation_exception
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ValueError is not JSON serializable
2025-07-21 16:59:05,578 - api.utils.logger - ERROR - Exception occured; Object of type ValueError is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 347, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'value_error', 'loc': ('body',), 'msg': 'Value error, The domain name example.com does not accept email.', 'input': {'email': 'user@example.com', 'password': 'String1@st', 'confirm_password': 'String1@st', 'first_name': 'First', 'last_name': 'Last', 'phone_number': 'stringstrin', 'ican_number': 'string12345'}, 'ctx': {'error': ValueError(EmailUndeliverableError('The domain name example.com does not accept email.'))}}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/main.py", line 84, in validation_exception
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ValueError is not JSON serializable
2025-07-21 17:14:29,739 - api.utils.logger - ERROR - Exception occured; Object of type ValueError is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 347, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'value_error', 'loc': ('body',), 'msg': 'Value error, The domain name example.com does not accept email.', 'input': {'email': 'user@example.com', 'password': 'String1@st', 'confirm_password': 'String1@st', 'first_name': 'First', 'last_name': 'Last', 'phone_number': 'stringstrin', 'ican_number': 'string12345'}, 'ctx': {'error': ValueError('The domain name example.com does not accept email.')}}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/main.py", line 84, in validation_exception
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ValueError is not JSON serializable
2025-07-21 17:22:42,191 - api.utils.logger - ERROR - Exception occured; Object of type ValueError is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 347, in app
    raise validation_error
fastapi.exceptions.RequestValidationError: [{'type': 'value_error', 'loc': ('body',), 'msg': 'Value error, The domain name example.com does not accept email.', 'input': {'email': 'user@example.com', 'password': 'String1@st', 'confirm_password': 'String1@st', 'first_name': 'First', 'last_name': 'Last', 'phone_number': 'stringstrin', 'ican_number': 'string12345'}, 'ctx': {'error': ValueError('The domain name example.com does not accept email.')}}]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 59, in wrapped_app
    response = await handler(conn, exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/main.py", line 84, in validation_exception
    return JSONResponse(
           ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 190, in __init__
    super().__init__(content, status_code, headers, media_type, background)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 47, in __init__
    self.body = self.render(content)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/responses.py", line 193, in render
    return json.dumps(
           ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ValueError is not JSON serializable
2025-07-21 17:26:38,992 - api.utils.logger - ERROR - Exception occured; (psycopg2.errors.UndefinedFunction) operator does not exist: character varying = uuid
LINE 3: WHERE users.id = 'b0c54597-6c1a-4266-812d-a4bf756d3a25'::uui...
                       ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT users.email, users.password, users.first_name, users.last_name, users.avatar_url, users.phone_number, users.is_active, users.is_admin, users.is_verified, users.ican_number, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s]
[parameters: {'pk_1': UUID('b0c54597-6c1a-4266-812d-a4bf756d3a25')}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedFunction: operator does not exist: character varying = uuid
LINE 3: WHERE users.id = 'b0c54597-6c1a-4266-812d-a4bf756d3a25'::uui...
                       ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/slowapi/extension.py", line 766, in sync_wrapper
    response = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/routes/auth.py", line 50, in register
    user = user_service.create(db=db, schema=user_schema)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/services/user.py", line 131, in create
    db.refresh(user)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 3168, in refresh
    loading.load_on_ident(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 509, in load_on_ident
    return load_on_pk_identity(
           ^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedFunction) operator does not exist: character varying = uuid
LINE 3: WHERE users.id = 'b0c54597-6c1a-4266-812d-a4bf756d3a25'::uui...
                       ^
HINT:  No operator matches the given name and argument types. You might need to add explicit type casts.

[SQL: SELECT users.email, users.password, users.first_name, users.last_name, users.avatar_url, users.phone_number, users.is_active, users.is_admin, users.is_verified, users.ican_number, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.id = %(pk_1)s]
[parameters: {'pk_1': UUID('b0c54597-6c1a-4266-812d-a4bf756d3a25')}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-21 17:35:09,662 - api.utils.logger - ERROR - Exception occured; Object of type UUID is not JSON serializable
Traceback (most recent call last):
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 215, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/slowapi/extension.py", line 766, in sync_wrapper
    response = func(*args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/routes/auth.py", line 52, in register
    access_token = user_service.create_access_token(user_id=user.id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/api/v1/services/user.py", line 190, in create_access_token
    encoded_jwt = jwt.encode(data, settings.SECRET_KEY, settings.ALGORITHM)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/jose/jwt.py", line 63, in encode
    return jws.sign(claims, key, headers=headers, algorithm=algorithm)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/jose/jws.py", line 46, in sign
    encoded_payload = _encode_payload(payload)
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/afebu/Documents/ProgrammingStuff/testa/.venv/lib/python3.12/site-packages/jose/jws.py", line 150, in _encode_payload
    payload = json.dumps(
              ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type UUID is not JSON serializable
